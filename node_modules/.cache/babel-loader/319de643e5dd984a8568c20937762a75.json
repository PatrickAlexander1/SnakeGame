{"ast":null,"code":"var _jsxFileName = \"/Users/patrickwellins/Documents/games/snake/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst APPLERADIUS = 10;\n\nclass GameContainer {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n    this.wallCollision = false;\n  }\n\n  update(snake, apple) {\n    // Update the snake, did it eat the apple or not\n    snake.head.x === apple.x && snake.head.y === apple.y ? snake.update(true) : snake.update(false); // Update the apple, was it eaten or not\n\n    if (snake.head.x === apple.x && snake.head.y === apple.y) {\n      // non random regeneration of apple for now\n      apple.x = 50;\n      apple.y = 50;\n    } // check of snake collided with wall\n\n\n    this.wallCollision = snake.head.x > this.width || snake.head.x <= 0 || snake.head.y >= this.height || snake.head.y <= 0 ? true : false;\n  }\n\n}\n\nclass Snake {\n  constructor() {\n    this.segmentLocations = [{\n      x: 35,\n      y: 50\n    }, {\n      x: 30,\n      y: 50\n    }];\n    this.direction = \"right\";\n    this.head = this.segmentLocations[0];\n  }\n\n  update(addSegment) {\n    const snakeTail = this.segmentLocations.pop();\n    const snakeMinusTail = this.segmentLocations.pop();\n    console.log(this.segmentLocations); // switch (this.direction) {\n    //   case \"right\":\n    //     this.segmentLocations[0].x += 5\n    //   case \"left\":\n    //     this.segmentLocations[0].x -= 5\n    //   case \"down\":\n    //     this.segmentLocations[0].y += 5\n    //   case \"up\":\n    //       this.segmentLocations[0].y -= 5\n    //   default:\n    //     console.log(\"Error: Needs Direction\")\n    // }\n    // this.segmentLocations = [this.segmentLocations[0].x, this.segmentLocations[0].y, ...snakeMinusTail]\n    // if (addSegment){\n    //   this.segmentLocations.push(snakeTail)\n    // }\n  }\n\n  changeDirection(direction) {\n    this.direction = direction;\n  }\n\n}\n\nclass Apple {\n  constructor(location) {\n    this.x = location.x;\n    this.y = location.y;\n  }\n\n}\n\nconst genRandomXY = snakeBody => {\n  const y = Math.floor(Math.random() * 15) * 20;\n  const x = Math.floor(Math.random() * 23) * 20;\n  let recurse = false;\n  snakeBody.every(element => {\n    if (x === element[0] && y === element[1]) {\n      recurse = true;\n    }\n  });\n  return recurse ? genRandomXY(snakeBody) : [x, y];\n};\n\nconst Game = () => {\n  _s();\n\n  const gameContainer = new GameContainer();\n  const snake = new Snake();\n  const apple = new Apple({\n    x: 50,\n    y: 50\n  });\n\n  const gameLogic = (gameContainer, snake, apple, ctx) => {\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, gameContainer.x, gameContainer.y);\n    ctx.fillStyle = 'green';\n    snake.segmentLocations.forEach((segment, index) => {\n      ctx.fillRect(segment.x, segment.y, 5, 5);\n    });\n    ctx.fillStyle = 'red';\n    ctx.fillRect(apple.x, apple.y, 5, 5);\n    gameContainer.update(snake, apple);\n  };\n\n  const canvasRef = useRef(null);\n\n  const controller = event => {\n    switch (event.code) {\n      case \"ArrowRight\":\n        snake.changeDirection(\"right\");\n\n      case \"ArrowLeft\":\n        snake.changeDirection(\"left\");\n\n      case \"ArrowUp\":\n        snake.changeDirection(\"up\");\n\n      case \"ArrowDown\":\n        snake.changeDirection(\"down\");\n\n      default:\n        break;\n    }\n\n    switch (event.keyCode) {\n      case 32:\n        snake.pauseSnake();\n\n      case 13:\n        snake.go();\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const canvasWidth = canvas.width / 2;\n    const canvasHeight = canvas.height / 2;\n    let gameState = setInterval(() => {\n      gameLogic(gameContainer, snake, apple, ctx);\n    }, 150);\n    window.addEventListener('keydown', controller);\n    return () => {\n      clearInterval(gameState);\n      window.removeEventListener('keydown', controller);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontFamily: \"'Press Start 2P', cursive\",\n        textAlign: \"center\"\n      },\n      children: \" Snake\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      style: {\n        background: \"#262626\",\n        display: \"block\",\n        margin: \"0 auto\"\n      },\n      id: \"myCanvas\",\n      width: \"480\",\n      height: \"320\",\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Game, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\n_c = Game;\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Game\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/Users/patrickwellins/Documents/games/snake/src/App.js"],"names":["React","useState","useEffect","useRef","APPLERADIUS","GameContainer","constructor","width","height","wallCollision","update","snake","apple","head","x","y","Snake","segmentLocations","direction","addSegment","snakeTail","pop","snakeMinusTail","console","log","changeDirection","Apple","location","genRandomXY","snakeBody","Math","floor","random","recurse","every","element","Game","gameContainer","gameLogic","ctx","fillStyle","fillRect","forEach","segment","index","canvasRef","controller","event","code","keyCode","pauseSnake","go","canvas","current","getContext","canvasWidth","canvasHeight","gameState","setInterval","window","addEventListener","clearInterval","removeEventListener","fontFamily","textAlign","background","display","margin","App"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;;;AAEA,MAAMC,WAAW,GAAG,EAApB;;AAEA,MAAMC,aAAN,CAAoB;AAElBC,EAAAA,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAe;AACxB,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,aAAL,GAAqB,KAArB;AACD;;AAEDC,EAAAA,MAAM,CAACC,KAAD,EAAQC,KAAR,EAAc;AAClB;AACCD,IAAAA,KAAK,CAACE,IAAN,CAAWC,CAAX,KAAiBF,KAAK,CAACE,CAAvB,IAA4BH,KAAK,CAACE,IAAN,CAAWE,CAAX,KAAiBH,KAAK,CAACG,CAApD,GAAwDJ,KAAK,CAACD,MAAN,CAAa,IAAb,CAAxD,GAA4EC,KAAK,CAACD,MAAN,CAAa,KAAb,CAA5E,CAFkB,CAGlB;;AACA,QAAIC,KAAK,CAACE,IAAN,CAAWC,CAAX,KAAiBF,KAAK,CAACE,CAAvB,IAA4BH,KAAK,CAACE,IAAN,CAAWE,CAAX,KAAiBH,KAAK,CAACG,CAAvD,EAAyD;AACvD;AACCH,MAAAA,KAAK,CAACE,CAAN,GAAU,EAAV;AACAF,MAAAA,KAAK,CAACG,CAAN,GAAU,EAAV;AACF,KARiB,CASlB;;;AACA,SAAKN,aAAL,GAAsBE,KAAK,CAACE,IAAN,CAAWC,CAAX,GAAe,KAAKP,KAApB,IAA6BI,KAAK,CAACE,IAAN,CAAWC,CAAX,IAAgB,CAA7C,IAAkDH,KAAK,CAACE,IAAN,CAAWE,CAAX,IAAgB,KAAKP,MAAvE,IAAiFG,KAAK,CAACE,IAAN,CAAWE,CAAX,IAAgB,CAAlG,GAAuG,IAAvG,GAA6G,KAAlI;AACD;;AAnBiB;;AAuBpB,MAAMC,KAAN,CAAY;AAEVV,EAAAA,WAAW,GACX;AACE,SAAKW,gBAAL,GAAwB,CAAC;AAACH,MAAAA,CAAC,EAAE,EAAJ;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAD,EAAiB;AAACD,MAAAA,CAAC,EAAE,EAAJ;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAjB,CAAxB;AACA,SAAKG,SAAL,GAAiB,OAAjB;AACA,SAAKL,IAAL,GAAY,KAAKI,gBAAL,CAAsB,CAAtB,CAAZ;AACD;;AAEDP,EAAAA,MAAM,CAACS,UAAD,EAAY;AAEhB,UAAMC,SAAS,GAAG,KAAKH,gBAAL,CAAsBI,GAAtB,EAAlB;AACA,UAAMC,cAAc,GAAG,KAAKL,gBAAL,CAAsBI,GAAtB,EAAvB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,gBAAjB,EAJgB,CAKhB;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACD;;AAEDQ,EAAAA,eAAe,CAACP,SAAD,EAAW;AACxB,SAAKA,SAAL,GAAiBA,SAAjB;AACD;;AArCS;;AAyCZ,MAAMQ,KAAN,CAAY;AAEVpB,EAAAA,WAAW,CAACqB,QAAD,EACX;AACE,SAAKb,CAAL,GAASa,QAAQ,CAACb,CAAlB;AACA,SAAKC,CAAL,GAASY,QAAQ,CAACZ,CAAlB;AACD;;AANS;;AAUZ,MAAMa,WAAW,GAAIC,SAAD,IAAe;AAEjC,QAAMd,CAAC,GAAGe,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,IAAiC,EAA3C;AACA,QAAMlB,CAAC,GAAGgB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,IAAiC,EAA3C;AACA,MAAIC,OAAO,GAAG,KAAd;AACAJ,EAAAA,SAAS,CAACK,KAAV,CAAgBC,OAAO,IAAI;AACzB,QAAIrB,CAAC,KAAKqB,OAAO,CAAC,CAAD,CAAb,IAAoBpB,CAAC,KAAKoB,OAAO,CAAC,CAAD,CAArC,EAAyC;AACvCF,MAAAA,OAAO,GAAG,IAAV;AACD;AACF,GAJD;AAKA,SAAOA,OAAO,GAAEL,WAAW,CAACC,SAAD,CAAb,GAA0B,CAACf,CAAD,EAAIC,CAAJ,CAAxC;AAED,CAZD;;AAgBA,MAAMqB,IAAI,GAAG,MAAM;AAAA;;AAEjB,QAAMC,aAAa,GAAG,IAAIhC,aAAJ,EAAtB;AACA,QAAMM,KAAK,GAAG,IAAIK,KAAJ,EAAd;AACA,QAAMJ,KAAK,GAAG,IAAIc,KAAJ,CAAU;AAACZ,IAAAA,CAAC,EAAC,EAAH;AAAOC,IAAAA,CAAC,EAAC;AAAT,GAAV,CAAd;;AAEA,QAAMuB,SAAS,GAAG,CAACD,aAAD,EAAgB1B,KAAhB,EAAuBC,KAAvB,EAA8B2B,GAA9B,KAAsC;AACtDA,IAAAA,GAAG,CAACC,SAAJ,GAAgB,OAAhB;AACAD,IAAAA,GAAG,CAACE,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBJ,aAAa,CAACvB,CAAjC,EAAoCuB,aAAa,CAACtB,CAAlD;AACAwB,IAAAA,GAAG,CAACC,SAAJ,GAAgB,OAAhB;AACA7B,IAAAA,KAAK,CAACM,gBAAN,CAAuByB,OAAvB,CAA+B,CAACC,OAAD,EAAUC,KAAV,KAAoB;AACjDL,MAAAA,GAAG,CAACE,QAAJ,CAAaE,OAAO,CAAC7B,CAArB,EAAwB6B,OAAO,CAAC5B,CAAhC,EAAmC,CAAnC,EAAsC,CAAtC;AACD,KAFD;AAGAwB,IAAAA,GAAG,CAACC,SAAJ,GAAgB,KAAhB;AACAD,IAAAA,GAAG,CAACE,QAAJ,CAAa7B,KAAK,CAACE,CAAnB,EAAsBF,KAAK,CAACG,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC;AACAsB,IAAAA,aAAa,CAAC3B,MAAd,CAAqBC,KAArB,EAA4BC,KAA5B;AAEH,GAXC;;AAaA,QAAMiC,SAAS,GAAG1C,MAAM,CAAC,IAAD,CAAxB;;AAEA,QAAM2C,UAAU,GAAIC,KAAD,IAAW;AAE5B,YAAQA,KAAK,CAACC,IAAd;AACE,WAAK,YAAL;AACErC,QAAAA,KAAK,CAACc,eAAN,CAAsB,OAAtB;;AACF,WAAK,WAAL;AACEd,QAAAA,KAAK,CAACc,eAAN,CAAsB,MAAtB;;AACF,WAAK,SAAL;AACEd,QAAAA,KAAK,CAACc,eAAN,CAAsB,IAAtB;;AACF,WAAK,WAAL;AACEd,QAAAA,KAAK,CAACc,eAAN,CAAsB,MAAtB;;AACF;AACE;AAVJ;;AAYA,YAAQsB,KAAK,CAACE,OAAd;AACE,WAAK,EAAL;AACEtC,QAAAA,KAAK,CAACuC,UAAN;;AACF,WAAK,EAAL;AACEvC,QAAAA,KAAK,CAACwC,EAAN;;AACF;AACE;AANJ;AASD,GAvBD;;AA2BAjD,EAAAA,SAAS,CAAC,MAAM;AAGZ,UAAMkD,MAAM,GAAGP,SAAS,CAACQ,OAAzB;AACA,UAAMd,GAAG,GAAGa,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAZ;AACA,UAAMC,WAAW,GAAGH,MAAM,CAAC7C,KAAP,GAAa,CAAjC;AACA,UAAMiD,YAAY,GAAGJ,MAAM,CAAC5C,MAAP,GAAc,CAAnC;AAEA,QAAIiD,SAAS,GAAGC,WAAW,CAAC,MAAM;AAACpB,MAAAA,SAAS,CAACD,aAAD,EAAgB1B,KAAhB,EAAuBC,KAAvB,EAA8B2B,GAA9B,CAAT;AAA4C,KAApD,EAAsD,GAAtD,CAA3B;AACAoB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCd,UAAnC;AAEA,WAAO,MAAM;AACbe,MAAAA,aAAa,CAACJ,SAAD,CAAb;AACAE,MAAAA,MAAM,CAACG,mBAAP,CAA2B,SAA3B,EAAsChB,UAAtC;AACC,KAHD;AAIH,GAfQ,CAAT;AAkBA,sBACE;AAAA,4BACI;AAAI,MAAA,KAAK,EAAG;AAACiB,QAAAA,UAAU,EAAE,2BAAb;AAA0CC,QAAAA,SAAS,EAAE;AAArD,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AACE,MAAA,KAAK,EAAE;AACPC,QAAAA,UAAU,EAAE,SADL;AAEPC,QAAAA,OAAO,EAAE,OAFF;AAGPC,QAAAA,MAAM,EAAE;AAHD,OADT;AAKE,MAAA,EAAE,EAAC,UALL;AAME,MAAA,KAAK,EAAC,KANR;AAOE,MAAA,MAAM,EAAC,KAPT;AAQE,MAAA,GAAG,EAAEtB;AARP;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcC,CAhFH;;GAAMT,I;;KAAAA,I;;AAkFN,SAASgC,GAAT,GAAe;AAEb,sBACE;AAAA,2BACA,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADA,mBADF;AAOD;;MATQA,G;AAWT,eAAeA,GAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst APPLERADIUS = 10\n\nclass GameContainer {\n\n  constructor(width, height){\n    this.width = width\n    this.height = height\n    this.wallCollision = false\n  }\n\n  update(snake, apple){\n    // Update the snake, did it eat the apple or not\n    (snake.head.x === apple.x && snake.head.y === apple.y)? snake.update(true): snake.update(false)\n    // Update the apple, was it eaten or not\n    if (snake.head.x === apple.x && snake.head.y === apple.y){\n      // non random regeneration of apple for now\n       apple.x = 50\n       apple.y = 50\n    }\n    // check of snake collided with wall\n    this.wallCollision = (snake.head.x > this.width || snake.head.x <= 0 || snake.head.y >= this.height || snake.head.y <= 0)?  true: false\n  }\n\n}\n\nclass Snake {\n\n  constructor()\n  {\n    this.segmentLocations = [{x: 35, y: 50}, {x: 30, y: 50}]\n    this.direction = \"right\"\n    this.head = this.segmentLocations[0]\n  }\n\n  update(addSegment){\n\n    const snakeTail = this.segmentLocations.pop()\n    const snakeMinusTail = this.segmentLocations.pop()\n    console.log(this.segmentLocations)\n    // switch (this.direction) {\n    //   case \"right\":\n    //     this.segmentLocations[0].x += 5\n    //   case \"left\":\n    //     this.segmentLocations[0].x -= 5\n       \n    //   case \"down\":\n    //     this.segmentLocations[0].y += 5\n \n    //   case \"up\":\n    //       this.segmentLocations[0].y -= 5\n    //   default:\n    //     console.log(\"Error: Needs Direction\")\n    // }\n    // this.segmentLocations = [this.segmentLocations[0].x, this.segmentLocations[0].y, ...snakeMinusTail]\n\n    // if (addSegment){\n    //   this.segmentLocations.push(snakeTail)\n    // }\n  }\n\n  changeDirection(direction){\n    this.direction = direction\n  }\n\n}\n\nclass Apple {\n\n  constructor(location)\n  {\n    this.x = location.x\n    this.y = location.y\n  }\n}\n\n\nconst genRandomXY = (snakeBody) => {\n\n  const y = Math.floor(Math.random() * 15) * 20\n  const x = Math.floor(Math.random() * 23) * 20\n  let recurse = false\n  snakeBody.every(element => {\n    if (x === element[0] && y === element[1]){\n      recurse = true\n    }\n  });\n  return recurse? genRandomXY(snakeBody): [x, y]\n\n}\n\n\n\nconst Game = () => {\n\n  const gameContainer = new GameContainer()\n  const snake = new Snake()\n  const apple = new Apple({x:50, y:50})\n\n  const gameLogic = (gameContainer, snake, apple, ctx) => {\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, gameContainer.x, gameContainer.y)\n    ctx.fillStyle = 'green';\n    snake.segmentLocations.forEach((segment, index) => {\n      ctx.fillRect(segment.x, segment.y, 5, 5);\n    })\n    ctx.fillStyle = 'red';\n    ctx.fillRect(apple.x, apple.y, 5, 5)\n    gameContainer.update(snake, apple)\n    \n}\n\n  const canvasRef = useRef(null)\n\n  const controller = (event) => {\n\n    switch (event.code ) {\n      case \"ArrowRight\":\n        snake.changeDirection(\"right\")\n      case \"ArrowLeft\":\n        snake.changeDirection(\"left\")\n      case \"ArrowUp\":\n        snake.changeDirection(\"up\")\n      case \"ArrowDown\":\n        snake.changeDirection(\"down\")\n      default:\n        break;\n    }\n    switch (event.keyCode ) {\n      case 32:\n        snake.pauseSnake()\n      case 13:\n        snake.go()\n      default:\n        break;\n    }\n\n  }\n\n \n\n  useEffect(() => {\n\n\n      const canvas = canvasRef.current\n      const ctx = canvas.getContext(\"2d\");\n      const canvasWidth = canvas.width/2\n      const canvasHeight = canvas.height/2\n\n      let gameState = setInterval(() => {gameLogic(gameContainer, snake, apple, ctx)}, 150)\n      window.addEventListener('keydown', controller);\n\n      return () => {\n      clearInterval(gameState)\n      window.removeEventListener('keydown', controller);\n      }\n  })\n\n\n  return(\n    <div>\n        <h1 style ={{fontFamily: \"'Press Start 2P', cursive\", textAlign: \"center\"}}> Snake</h1>\n        <canvas\n          style={{\n          background: \"#262626\",\n          display: \"block\",\n          margin: \"0 auto\" }}\n          id=\"myCanvas\"\n          width=\"480\"\n          height=\"320\"\n          ref={canvasRef}></canvas>\n    </div>\n  )\n  }\n\nfunction App() {\n\n  return(\n    <>\n    <Game/>\n    </>\n  )\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}