{"ast":null,"code":"var _jsxFileName = \"/Users/patrickwellins/Desktop/games/snake/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport EventListener, { withOptions } from 'react-event-listener';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Position = ({\n  stateX,\n  stateY\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginLeft: \"100px\"\n    },\n    children: [\" \", stateX, \" \", stateY, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Position;\nconst Game = /*#__PURE__*/React.memo(_c2 = _s(({\n  setStateX,\n  setStateY\n}) => {\n  _s();\n\n  let dx = 0;\n  let dy = 0;\n  let cW;\n  let cH;\n  let appleExists = false;\n  const squares = [];\n\n  for (let i = 0; i < 16; i++) {\n    squares.push([]);\n\n    for (let j = 0; j < 24; j++) {\n      squares[i].push([i * 20, j * 20, true]);\n    }\n  }\n\n  const genRandomXY = () => {\n    const y = Math.floor(Math.random() * 16);\n    const x = Math.floor(Math.random() * 24);\n    return [x, y];\n  };\n\n  useEffect(() => {\n    let coords = genRandomXY();\n    console.log(coords);\n    const canvas = cRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    cW = canvas.width / 2;\n    cH = canvas.height / 2;\n    setStateX(cW);\n    setStateY(cH);\n    setInterval(() => {\n      draw(ctx, canvas);\n      drawApple(ctx, canvas, x, y);\n    }, 10);\n    window.addEventListener('keydown', logKey, cW, cH);\n    return () => {\n      window.removeEventListener('keydown', logKey, cW, cH);\n    };\n  });\n\n  const logKey = event => {\n    if (event.code === \"ArrowRight\" && cW + dx + 20 <= 460) {\n      dx += 20;\n    } else if (event.code === \"ArrowLeft\" && cW + dx - 20 >= 0) {\n      dx -= 20;\n    } else if (event.code === \"ArrowUp\" && cH + dy - 20 >= 0) {\n      dy -= 20;\n    } else if (event.code === \"ArrowDown\" && cH + dy + 20 <= 300) {\n      dy += 20;\n    }\n\n    setStateX(cW + dx);\n    setStateY(cH + dy);\n  };\n\n  function draw(ctx, canvas) {\n    const squareSide = 20;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.beginPath();\n    ctx.rect(canvas.width / 2 + dx, canvas.height / 2 + dy, squareSide, squareSide);\n    ctx.fillStyle = \"#388E3C\";\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  function drawApple(ctx, canvas, x, y) {\n    const appleRadius = 10;\n    ctx.beginPath();\n    ctx.arc(x + 10, y + 10, appleRadius, 0, Math.PI * 2);\n    ctx.fillStyle = \"#D32F2F\";\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  const cRef = useRef(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      style: {\n        background: \"#eee\",\n        display: \"block\",\n        margin: \"0 auto\"\n      },\n      id: \"myCanvas\",\n      width: \"480\",\n      height: \"320\",\n      ref: cRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}, \"URm58pgjXa+ECeiVHN1N38QXQss=\"));\n_c3 = Game;\n\nfunction App() {\n  _s2();\n\n  const [stateX, setStateX] = useState(240);\n  const [stateY, setStateY] = useState(160);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Game, {\n      setStateX: setStateX,\n      setStateY: setStateY\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Position, {\n      stateX: stateX,\n      stateY: stateY\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(App, \"z/9Tpgp52heXM9WS/DEC/+/vP/U=\");\n\n_c4 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Position\");\n$RefreshReg$(_c2, \"Game$React.memo\");\n$RefreshReg$(_c3, \"Game\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"sources":["/Users/patrickwellins/Desktop/games/snake/src/App.js"],"names":["React","useState","useEffect","useRef","EventListener","withOptions","Position","stateX","stateY","marginLeft","Game","memo","setStateX","setStateY","dx","dy","cW","cH","appleExists","squares","i","push","j","genRandomXY","y","Math","floor","random","x","coords","console","log","canvas","cRef","current","ctx","getContext","width","height","setInterval","draw","drawApple","window","addEventListener","logKey","removeEventListener","event","code","squareSide","clearRect","beginPath","rect","fillStyle","fill","closePath","appleRadius","arc","PI","background","display","margin","App"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport EventListener, {withOptions} from 'react-event-listener';\n\n\nconst Position = ({stateX, stateY}) => {\n\n  return(\n    <div style={{marginLeft: \"100px\"}}> {stateX} {stateY} </div>\n  )\n}\n\nconst Game = React.memo(({setStateX, setStateY}) => {\n\n  let dx = 0\n  let dy = 0\n  let cW\n  let cH\n  let appleExists = false\n\n  const squares = []\n  for (let i = 0; i < 16; i++){\n    squares.push([])\n    for (let j = 0; j < 24; j++){\n      squares[i].push([i * 20, j * 20, true])\n    }\n  }\n\n  const genRandomXY = () => {\n    const y = Math.floor(Math.random() * 16)\n    const x = Math.floor(Math.random() * 24)\n    return [x, y]\n  }\n\n\n  useEffect(() => {\n\n      let coords = genRandomXY()\n\n      console.log(coords)\n\n      const canvas = cRef.current\n      const ctx = canvas.getContext(\"2d\");\n      cW = canvas.width/2\n      cH = canvas.height/2\n      setStateX(cW)\n      setStateY(cH)\n      setInterval(() => {draw(ctx, canvas); drawApple(ctx, canvas, x, y)}, 10)\n      window.addEventListener('keydown', logKey, cW, cH);\n      return () => {\n      window.removeEventListener('keydown', logKey, cW, cH);\n  }\n  })\n\n  const logKey = (event) => {\n\n    if (event.code === \"ArrowRight\" && (cW + dx + 20) <= 460){\n\n      dx += 20\n\n    }\n    else if (event.code === \"ArrowLeft\" && (cW + dx - 20) >= 0){\n\n      dx -= 20\n    }\n    else if (event.code === \"ArrowUp\" && (cH + dy - 20) >= 0){\n      dy -= 20\n    }\n    else if (event.code === \"ArrowDown\" && (cH + dy + 20) <= 300){\n      dy += 20\n    }\n    setStateX(cW + dx)\n    setStateY(cH + dy)\n\n  }\n\n  function draw(ctx, canvas) {\n\n    const squareSide = 20\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.beginPath()\n    ctx.rect(canvas.width/2 + dx, canvas.height /2  + dy, squareSide, squareSide);\n    ctx.fillStyle = \"#388E3C\";\n    ctx.fill();\n    ctx.closePath();\n\n}\n\n  function drawApple(ctx, canvas, x, y) {\n\n      const appleRadius = 10\n      ctx.beginPath()\n      ctx.arc(x + 10, y + 10, appleRadius, 0, Math.PI*2);\n      ctx.fillStyle = \"#D32F2F\";\n      ctx.fill();\n      ctx.closePath();\n\n    }\n\n\n\n\n  const cRef = useRef(null)\n  return(\n    <div>\n        <canvas  style={{ background: \"#eee\", display: \"block\", margin: \"0 auto\" }} id=\"myCanvas\" width=\"480\" height=\"320\" ref={cRef}></canvas>\n    </div>\n  )\n})\n\n\nfunction App() {\n\n  const [stateX, setStateX] = useState(240)\n  const [stateY, setStateY] = useState(160)\n\n  return (\n    <div>\n        <Game  setStateX={setStateX} setStateY={setStateY}/>\n        <Position stateX={stateX} stateY={stateY}/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}