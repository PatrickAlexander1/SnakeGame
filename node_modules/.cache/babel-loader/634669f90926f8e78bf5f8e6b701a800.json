{"ast":null,"code":"var _jsxFileName = \"/Users/patrickwellins/Documents/games/snake/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst randomXY = (snake, gameContainerWidth, gameContainerHeight) => {\n  let goodSpot = true;\n\n  const randX = _.clamp(_.random(gameContainerWidth / 25) * 25, 25, gameContainerHeight - 25);\n\n  const randY = _.clamp(_.random(gameContainerHeight / 25) * 25, 25, gameContainerHeight - 25);\n\n  snake.segmentLocations.forEach(segment => {\n    if (_.isEqual([randX, randY], segment)) {\n      goodSpot = false;\n    }\n  });\n  return goodSpot ? [randX, randY] : randomXY(snake, gameContainerWidth, gameContainerHeight);\n};\n\nclass GameContainer {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n    this.wallCollision = false;\n    this.pause = false;\n  }\n\n  update(snake, apple, score, setScore) {\n    // If the game is not Paused then update\n    if (!this.pause) {\n      snake.update(apple, score, setScore); // check of snake collided with wall\n\n      this.wallCollision = snake.segmentLocations[0][0] >= this.width || snake.segmentLocations[0][0] < 0 || snake.segmentLocations[0][1] >= this.height || snake.segmentLocations[0][1] < 0 ? true : false;\n    }\n  }\n\n  stop() {\n    this.pause = true;\n  }\n\n  start() {\n    this.pause = false;\n  }\n\n}\n\nclass Snake {\n  constructor() {\n    this.segmentLocations = [[50, 50], [25, 50], [0, 50]];\n    this.head = this.segmentLocations[0];\n    this.direction = \"right\";\n    this.crashed = false;\n  }\n\n  ateApple(apple) {\n    const didEatApple = this.head[0] === apple.x && this.head[1] === apple.y;\n\n    if (didEatApple) {\n      const [x, y] = randomXY(snake, 400, 400);\n      apple.x = x;\n      apple.y = y;\n    }\n\n    return didEatApple;\n  }\n\n  checkIfCrashed() {\n    this.segmentLocations.slice(1).forEach(segment => {\n      if (_.isEqual(this.head, segment)) {\n        this.crashed = true;\n      }\n    });\n  }\n\n  update(apple, score, setScore) {\n    if (!this.crashed) {\n      let currentHead;\n\n      if (this.direction === \"right\") {\n        currentHead = [this.head[0] + 25, this.head[1]];\n      } else if (this.direction === \"left\") {\n        currentHead = [this.head[0] - 25, this.head[1]];\n      } else if (this.direction === \"up\") {\n        currentHead = [this.head[0], this.head[1] - 25];\n      } else if (this.direction === \"down\") {\n        currentHead = [this.head[0], this.head[1] + 25];\n      }\n\n      this.head = currentHead;\n      this.segmentLocations = [currentHead].concat(this.segmentLocations);\n\n      if (!this.ateApple(apple)) {\n        this.segmentLocations.pop();\n      } else {\n        setScore(score + 1);\n      }\n\n      this.checkIfCrashed();\n    }\n  }\n\n  changeDirection(direction) {\n    this.direction = direction;\n  }\n\n}\n\nclass Apple {\n  constructor(location) {\n    this.x = location.x;\n    this.y = location.y;\n  }\n\n}\n\nconst gameContainer = new GameContainer(400, 400);\nconst snake = new Snake();\nconst apple = new Apple({\n  x: 100,\n  y: 100\n});\n\nconst Game = ({\n  gameContainer,\n  snake,\n  apple\n}) => {\n  _s();\n\n  const canvasRef = useRef(null);\n  const [score, setScore] = useState(0);\n\n  const updateGameState = (gameContainer, snake, apple, ctx, score, setScore) => {\n    // Update gameContainer\n    gameContainer.update(snake, apple, score, setScore);\n\n    if (!gameContainer.wallCollision && !snake.crashed && !gameContainer.pause) {\n      // Draw Game Container\n      ctx.clearRect(0, 0, gameContainer.width, gameContainer.height);\n      ctx.fillStyle = 'black';\n      ctx.fillRect(0, 0, gameContainer.x, gameContainer.y); // Draw Snake\n\n      ctx.fillStyle = 'green';\n\n      for (let index = 0; index < snake.segmentLocations.length; index++) {\n        const segment = snake.segmentLocations[index];\n        ctx.fillRect(segment[0], segment[1], 25, 25);\n        ctx.strokeRect(segment[0], segment[1], 25, 25);\n      } // Draw Apple\n\n\n      ctx.fillStyle = 'red';\n      ctx.fillRect(apple.x, apple.y, 25, 25);\n      ctx.strokeRect(apple.x, apple.y, 25, 25); // Draw Score\n\n      ctx.fillStyle = 'white';\n      ctx.font = \"30px Arial\";\n      ctx.fillText(`Score: ${score}`, 10, 30);\n    }\n  };\n\n  const controller = event => {\n    switch (event.code) {\n      case \"ArrowRight\":\n        snake.changeDirection(\"right\");\n        break;\n\n      case \"ArrowLeft\":\n        snake.changeDirection(\"left\");\n        break;\n\n      case \"ArrowUp\":\n        snake.changeDirection(\"up\");\n        break;\n\n      case \"ArrowDown\":\n        snake.changeDirection(\"down\");\n        break;\n\n      default:\n        break;\n    }\n\n    switch (event.keyCode) {\n      case 32:\n        gameContainer.stop();\n        break;\n\n      case 13:\n        gameContainer.start();\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    let gameState = setInterval(() => {\n      updateGameState(gameContainer, snake, apple, ctx, score, setScore);\n    }, 150);\n    window.addEventListener('keydown', controller);\n    return () => {\n      clearInterval(gameState);\n      window.removeEventListener('keydown', controller);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      style: {\n        background: \"#262626\",\n        display: \"block\"\n      },\n      id: \"myCanvas\",\n      width: \"400\",\n      height: \"400\",\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        borderCollapse: \"collapse\",\n        position: \"absolute\",\n        top: 20,\n        left: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Command\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Key\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Stop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Space Bar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Enter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Left Arrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Right Arrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Up Arrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Down Arrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => window.location.reload(),\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"1.5rem\",\n          padding: 10,\n          border: \"solid\",\n          borderWidth: 1,\n          borderRadius: 8,\n          cursor: \"grab\",\n          fontWeight: \"bold\",\n          margin: 40\n        },\n        children: \" New Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Game, \"g9zIuiFlEsrUWguIIIMki4PpkOs=\");\n\n_c = Game;\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Game, {\n      gameContainer: gameContainer,\n      snake: snake,\n      apple: apple\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Game\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/Users/patrickwellins/Documents/games/snake/src/App.js"],"names":["React","useState","useEffect","useRef","_","randomXY","snake","gameContainerWidth","gameContainerHeight","goodSpot","randX","clamp","random","randY","segmentLocations","forEach","segment","isEqual","GameContainer","constructor","width","height","wallCollision","pause","update","apple","score","setScore","stop","start","Snake","head","direction","crashed","ateApple","didEatApple","x","y","checkIfCrashed","slice","currentHead","concat","pop","changeDirection","Apple","location","gameContainer","Game","canvasRef","updateGameState","ctx","clearRect","fillStyle","fillRect","index","length","strokeRect","font","fillText","controller","event","code","keyCode","canvas","current","getContext","gameState","setInterval","window","addEventListener","clearInterval","removeEventListener","display","justifyContent","alignItems","background","borderCollapse","position","top","left","reload","fontSize","padding","border","borderWidth","borderRadius","cursor","fontWeight","margin","App"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport _ from 'lodash';\n\nconst randomXY = (snake, gameContainerWidth, gameContainerHeight) => {\n  \n  let goodSpot = true\n  const randX = _.clamp(_.random(gameContainerWidth / 25) * 25, 25, gameContainerHeight - 25)\n  const randY = _.clamp(_.random(gameContainerHeight / 25) * 25, 25, gameContainerHeight - 25)\n  snake.segmentLocations.forEach((segment) =>{\n    if (_.isEqual([randX, randY], segment)){\n       goodSpot = false\n    }})\n\n  return goodSpot? [randX, randY]: randomXY(snake, gameContainerWidth, gameContainerHeight)\n\n}\n\nclass GameContainer {\n\n  constructor(width, height){\n    this.width = width\n    this.height = height\n    this.wallCollision = false\n    this.pause = false\n  }\n\n  update(snake, apple, score, setScore){\n    // If the game is not Paused then update\n    if (!this.pause){\n      snake.update(apple, score, setScore)\n      // check of snake collided with wall\n      this.wallCollision = (snake.segmentLocations[0][0] >= this.width || snake.segmentLocations[0][0] < 0 || snake.segmentLocations[0][1] >= this.height || snake.segmentLocations[0][1] < 0)?  true: false\n  }\n    }\n\n  stop(){\n    this.pause = true\n  }\n\n  start(){\n    this.pause = false\n  }\n\n}\n\nclass Snake {\n\n  constructor()\n  {\n    this.segmentLocations = [[50,50], [25,50], [0,50]]\n    this.head = this.segmentLocations[0]\n    this.direction = \"right\"\n    this.crashed = false\n  }\n\n  ateApple(apple){\n    const didEatApple = (this.head[0] === apple.x && this.head[1] === apple.y)\n    if(didEatApple){\n      const [x, y] = randomXY(snake, 400, 400)\n      apple.x = x\n      apple.y = y\n    }\n    return didEatApple\n\n  }\n\n  checkIfCrashed(){\n    this.segmentLocations.slice(1,).forEach((segment) =>{\n    if (_.isEqual(this.head, segment)){\n       this.crashed = true\n    }})\n}\n\n  update(apple, score, setScore){\n\n    if (!this.crashed){\n      let currentHead\n      if (this.direction === \"right\"){\n        currentHead = [this.head[0] + 25, this.head[1]]\n      }\n      else if (this.direction === \"left\"){\n        currentHead = [this.head[0] - 25, this.head[1]]\n      }\n      else if (this.direction === \"up\"){\n        currentHead = [this.head[0], this.head[1] - 25]\n      }\n      else if (this.direction === \"down\"){\n        currentHead = [this.head[0], this.head[1] + 25]\n      }\n      this.head = currentHead\n      this.segmentLocations = [currentHead].concat(this.segmentLocations)\n\n\n      if (!this.ateApple(apple)){\n        this.segmentLocations.pop()\n      }\n      else{\n        setScore(score + 1)\n      }\n      this.checkIfCrashed()\n  }\n}\n  changeDirection(direction){\n    this.direction = direction\n  }\n}\n\nclass Apple {\n  constructor(location)\n  {\n    this.x = location.x\n    this.y = location.y\n  }\n}\n\nconst gameContainer = new GameContainer(400, 400)\nconst snake = new Snake()\nconst apple = new Apple({x:100, y:100})\n\n\nconst Game = ({gameContainer, snake, apple}) => {\n\n  const canvasRef = useRef(null)\n  const [score, setScore] = useState(0)\n  const updateGameState = (gameContainer, snake, apple, ctx, score, setScore) => {\n\n    // Update gameContainer\n    gameContainer.update(snake, apple, score, setScore)\n    if (!gameContainer.wallCollision && !snake.crashed && !gameContainer.pause){\n        // Draw Game Container\n        ctx.clearRect(0,0, gameContainer.width, gameContainer.height)\n        ctx.fillStyle = 'black';\n        ctx.fillRect(0, 0, gameContainer.x, gameContainer.y)\n        // Draw Snake\n        ctx.fillStyle = 'green';\n        for (let index = 0; index < snake.segmentLocations.length; index++) {\n          const segment = snake.segmentLocations[index]\n          ctx.fillRect(segment[0], segment[1], 25, 25);\n          ctx.strokeRect(segment[0], segment[1], 25, 25)\n        }\n        // Draw Apple\n        ctx.fillStyle = 'red';\n        ctx.fillRect(apple.x, apple.y, 25, 25)\n        ctx.strokeRect(apple.x, apple.y, 25, 25)\n        // Draw Score\n        ctx.fillStyle = 'white';\n        ctx.font = \"30px Arial\";\n        ctx.fillText(`Score: ${score}`, 10, 30);\n  }\n\n}\n\n  const controller = (event) => {\n\n    switch (event.code) {\n      case \"ArrowRight\":\n        snake.changeDirection(\"right\")\n        break\n      case \"ArrowLeft\":\n        snake.changeDirection(\"left\")\n        break\n      case \"ArrowUp\":\n        snake.changeDirection(\"up\")\n        break\n      case \"ArrowDown\":\n        snake.changeDirection(\"down\")\n        break\n      default:\n        break;\n    }\n    switch (event.keyCode ) {\n      case 32:\n        gameContainer.stop()\n        break\n      case 13:\n        gameContainer.start()\n        break\n      default:\n        break;\n    }\n  }\n\n  useEffect(() => {\n\n      const canvas = canvasRef.current\n      const ctx = canvas.getContext(\"2d\");\n\n      let gameState = setInterval(() => {updateGameState(gameContainer, snake, apple, ctx, score, setScore);}, 150)\n      window.addEventListener('keydown', controller);\n\n      return () => {\n      clearInterval(gameState)\n      window.removeEventListener('keydown', controller);\n      }\n  })\n  return(\n    <div style={{display:\"flex\", justifyContent:\"center\", alignItems:\"center\"}}>\n        <canvas\n          style={{\n          background: \"#262626\",\n          display: \"block\",\n          }}\n          id=\"myCanvas\"\n          width=\"400\"\n          height=\"400\"\n          ref={canvasRef}></canvas>\n          \n\n          <table style={{borderCollapse:\"collapse\", position:\"absolute\", top:20, left:20}}>\n            <tr>\n            <th>Command</th>\n            <th>Key</th>\n            </tr>\n            <tr>\n              <td>Stop</td>\n              <td>Space Bar</td>\n            </tr>\n            <tr>\n              <td>Continue</td>\n              <td>Enter</td>\n            </tr>\n            <tr>\n              <td>Left</td>\n              <td>Left Arrow</td>\n            </tr>\n            <tr>\n              <td>Right</td>\n              <td>Right Arrow</td>\n            </tr>\n            <tr>\n              <td>Up</td>\n              <td>Up Arrow</td>\n            </tr>\n            <tr>\n              <td>Down</td>\n              <td>Down Arrow</td>\n            </tr>\n          </table>\n\n          <div\n           onClick={() => window.location.reload()}\n          style={{display:\"flex\",\n                  justifyContent:\"center\",\n                 }}>\n           <div\n           style={{\n             fontSize:\"1.5rem\",\n             padding:10,\n             border:\"solid\",\n             borderWidth: 1,\n             borderRadius: 8,\n             cursor: \"grab\",\n             fontWeight:\"bold\",\n             margin:40,\n           }}\n           > New Game \n           </div>\n          </div>\n    </div>\n  )\n  }\nfunction App() {\n\n  return(\n    <>\n    <Game gameContainer={gameContainer} snake={snake} apple={apple}/>\n    </>\n  )\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}